<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8" />	
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"><meta name="viewport" content="width=device-width, user-scalable=no">
	
	
	<title></title>
	
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>

	<link rel="stylesheet" href="video.css">
	<link rel="stylesheet" href="aside.css">
	
	<!-- library for RSS feed -->
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<script type="text/javascript">
		google.load("feeds", "1");
	</script>
	
	<script>
		$(document).ready(function(){
			
			//the video we want is in the url
			var s = document.URL;
			s = s.split('@'); 
			var video = s;
			
			
			
			var url = decodeURI(video[2]);
			var title = decodeURI(video[3]);
			
			var description = decodeURI(video[4]);
				
				
			
			
			//now insert the video
			//this will decide what thumbnail to display
			var type = video[1];
			
			//Use the url of the video to map to the thumbnail in the same directory
			var thumb = url.split("/");
			var front = thumb.slice(0,4).join("/") + "/" +"thumbnails/";
			var end = thumb.slice(4).join("/").split(".")[0] + ".png";
					
			var imgSrc = front + end;	
			
			if(type=='dev'){
						
				$('#display').append('<center><video id = "video" autobuffer controls >' +
				'<source src="'+url+'" type="video/mp4"></source>' +
				'</video></center>');
				
				$('#video').attr("poster",imgSrc);
			
						
				//If the thumbnail isn't on the server, handle it.
				$('#video').error(function () {
					//Use the default thumbnail instead
					$('#video').attr("poster","img/dev.jpg");
						
				});
				
				
				
			}
			else{	
						
				$('#display').append('<center><video id = "video" autobuffer controls >' +
				'<source src="'+url+'" type="video/mp4"></source>' +
				'</video></center>');
				
				$('#video').attr("poster",imgSrc);
			
						
				//If the thumbnail isn't on the server, handle it.
				$('#video').error(function () {
					//Use the default thumbnail instead
					$('#video').attr("poster","img/quick.jpg");
						
				});
			}
			
			
			
			//insert the title of the video
			$('#display').append('<h1 id = "title" style = "text-align: center">'+title+'</h1>');
			
			//add the description
			$('#display').append('<h2 style = "text-align: center">'+description+'</h2>');
			
			//now lets move the home icon to the right
			$('#back_button').css({'height':'50px','padding':'0'});
			var width = $('body').width() - 50;
			var height = $('header').height() - 50;
			
			$('#back_button').css({'left':width,'top':0});
			
		
		});
		
		//play the video
		$('#video').get(0).play();
	</script>
	
	<!-- MINE!!! -->
	<script src="scripts/video_init.js"></script>
	<script src="scripts/hammer.min.js"></script>
	<script src="scripts/aside.js"></script>
	
	
</head>

<body>
	
	<header>
		  <img id = "aside_button" src = "img/threelines.png">
		  <img id = "logo" src = "img/logo.png">
		   <a href = "index.html" target="_self"><img id = "back_button" src = "img/home.png"></a>
		
	</header>
	
	<aside>
		<!--  -->
		<div id = "aside_menu">
		
			<center><h1 id = "aside_label">Video Menu</h1></center>
			<img id = "dev_button" src = "img/dev_button.png" style = "float:left; margin-left:1em;">
			<img id = "quick_button" src = "img/quick_button.png" style = "float:right; margin-right:1em;">
			
		</div>
		
	
		<div id = "dev_menu">
			<div id = "dev_label">
				<h1 style = "text-align : center; color: white; margin:0;"> DEV</h1>
				<center><h2 style = "color: white; padding-bottom:7px;">News for New Web, Mobile, and Game Developers.</h2></center>
			</div>
			
		</div>
		
		<div id = "quick_menu">
			<div id = "quick_label">
				<h1 style = "text-align : center; color: white;"> QuickBytes</h1>
				<center><h2 style = "color: white;">Easy Programming Tutorials for Beginners</h2></center>
			</div>
		</div>
	</aside>
	
	<section>
	
		
	  
		
		<!-- sidebar overlay -->
		<div id = "display">
		</div>
		
		
		
		
	</section>
	
	
	
	<footer>
		
		
		
	</footer>	
	
</body>
</html>